<!DOCTYPE html>
<html>
<head>
  <title>Chat</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  
  <div class="chat-wrapper">
    <div class="sidebar">
  
      <div id="myProfileBtn"></div>
  
      <div id="searchBar" class="search-bar">
        <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
        <button id="searchBtn">üîç</button>
      </div>
  
      <!-- –ú–æ–¥–∞–ª–∫–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –∫–∞—Ä—Ç–∏–Ω–∫–∏ -->
      <div id="imageModal" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);justify-content:center;align-items:center;z-index:999;">
        <img id="modalImage" style="max-width:90%;max-height:90%;border-radius:8px;">
      </div>
      
      <!-- –ú–æ–¥–∞–ª–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è -->
      <div id="myProfileModal" class="modal">
        <div class="modal-content">
          <div class="modal-header">
            <span id="closeMyProfile" class="close">‚úñ</span>
          </div>
          <div class="profile-body">
            <input type="file" id="avatarInput" accept="image/*" hidden>
            <button class="change-ava" onclick="document.getElementById('avatarInput').click()">–ò–∑–º–µ–Ω–∏—Ç—å –∞–≤–∞—Ç–∞—Ä</button>
            <div class="h2">
              <div id="myProfileAvatar" class="avatar-large"></div>
              <h2 id="myProfileUsername"></h2>
            </div>
            <textarea autocomplete="off" id="bioInput" maxlength="100" placeholder="–û —Å–µ–±–µ (–¥–æ 100 —Å–∏–º–≤–æ–ª–æ–≤)" class="bio-input"></textarea>
            <button class="bio-btn" onclick="saveBio()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button id="logoutBtn" class="logout-btn" onclick="logout()">–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</button>
          </div>
        </div>
      </div>      
  
      <h1 id="sidebarTitle">–î–∏–∞–ª–æ–≥–∏</h1>
      <div id="chatList"></div>
    </div>
  
    <div id="chatArea">
      <div id="noChat">–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç –¥–ª—è –æ–±—â–µ–Ω–∏—è</div>
    
      <div id="chatContainer" class="chat-container" style="display: none">
        <!-- Navbar -->
        <div class="chat-navbar">
          <img src="/default-avatar.png" id="avatar-friend" alt="">
          <div id="chatTitle" class="chat-title"></div>
          <button class="chat-info" onclick="toggleMenu(event)">‚ãÆ</button>
          <div id="chatMenu" class="chat-menu">
            <div onclick="openProfile()">–ü—Ä–æ—Ñ–∏–ª—å</div>
            <div onclick="confirmDeleteChat()">–£–¥–∞–ª–∏—Ç—å —á–∞—Ç</div>
          </div>
        </div>
    
        <!-- –°–æ–æ–±—â–µ–Ω–∏—è -->
        <div id="messages" class="messages"></div>
        <div id="messageMenu" class="message-menu">
          <div id="replyOption">–û—Ç–≤–µ—Ç–∏—Ç—å</div>
          <div id="editOption">–ò–∑–º–µ–Ω–∏—Ç—å</div>
          <div id="deleteOption">–£–¥–∞–ª–∏—Ç—å</div>
        </div>
        <div id="deleteMessageModal" class="modal">
          <div class="modal-content">
            <p class="text">–£–¥–∞–ª–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ?</p>
        
            <label class="label">
              <input class="box" type="checkbox" id="deleteForAll">
              –£–¥–∞–ª–∏—Ç—å —É –≤—Å–µ—Ö
            </label>
        
            <button class="da" onclick="confirmDeleteMessage()">–£–¥–∞–ª–∏—Ç—å</button>
            <button class="da" onclick="closeDeleteMessage()">–û—Ç–º–µ–Ω–∞</button>
          </div>
        </div>
    
        <!-- –ü–æ–ª–µ –≤–≤–æ–¥–∞ -->
        <div id="inputArea" class="input-area">
          <div class="reply" id="replyPreview" style="display:none;"></div>
          <textarea autocomplete="off" id="messageInput" type="text" placeholder="–ù–∞–ø–∏—à–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ..." class="input-area-input"></textarea>
          <input type="file" id="fileInput" hidden>
          <button class="file" onclick="document.getElementById('fileInput').click()">üìé</button>
          <button class="send-btn" onclick="sendMessage()">ü§ô</button>
        </div>
      </div>
    </div>    
    
    <div id="profileModal" class="modal-prof">
      <div class="modal-prof-content">
        <div class="modal-prof-header">
          <button onclick="closeProfile()" class="close">‚úñ</button>
        </div>
        <div class="h2">
          <div id="profileAvatar" class="avatar-large"></div>
          <h3 id="profileUsername"></h3>
        </div>
        <p class="prof-text" id="profileBiotext">–û —Å–µ–±–µ:</p>
        <p class="describe" id="profileBio"></p>
        <div class="contact-box">
          <input autocomplete="off" id="contactName" placeholder="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫..">
          <button onclick="saveContactName()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç</button>
        </div>
      </div>
    </div>
    
    <div id="deleteModal" class="modal">
      <div class="modal-content">
        <p class="text">–£–¥–∞–ª–∏—Ç—å —á–∞—Ç?</p>
        <div class="choose">
          <button class="da" onclick="deleteChat()">–î–∞</button>
          <button class="da" onclick="closeDelete()">–ù–µ—Ç</button>
        </div>
      </div>
    </div>    
  </div>  
  
  <script type="module" src="chat.js"></script>
  </body>
  
</html>